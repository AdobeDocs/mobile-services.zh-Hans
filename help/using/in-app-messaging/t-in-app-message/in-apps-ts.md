---
description: 此信息可帮助您排查应用程序内消息传送问题。
keywords: mobile
seo-description: 此信息可帮助您排查应用程序内消息传送问题。
seo-title: 排查应用程序内消息传送问题
solution: Experience Cloud,Analytics
title: 排查应用程序内消息传送问题
topic-fix: Metrics
uuid: 8813e8d8-bb1e-46ad-83cd-98ae68f73ce6
exl-id: 6be5beef-3bde-49f8-9ec0-c5d32bd43045
translation-type: tm+mt
source-git-commit: 4c2a255b343128d2904530279751767e7f99a10a
workflow-type: tm+mt
source-wordcount: '638'
ht-degree: 100%

---

# 排查应用程序内消息传送问题{#troubleshooting-in-app-messaging}

此信息可帮助您排查应用程序内消息传送问题。

如果您已完成应用程序内消息传送服务的所有要求，但却没有显示消息，请验证以下条目：

## 应用程序中是否纳入了新配置和新 SDK？

* 确认 SDK 的版本为 4.2 或更高，并且已正确配置 SDK。

* 确保您的配置（已下载的 JSON 文件）中包含[消息传送](/help/using/in-app-messaging/in-app-messaging.md)部分或者具有消息远程端点，以便可以通过 Dynamic Tag Management 进行检索。

## Android 中未显示我的全屏消息。我使用了正确的 SDK 和配置，并且也满足触发器条件。

是否更新清单文件以定义全屏活动？

## Android 中的本地通知消息不起作用。

确认清单中声明了本地通知广播接收器。有关更多信息，请参阅[应用程序内消息传送](/help/android/messaging-main/messaging/messaging.md)中的步骤 1。

## 消息是实时的吗？

检查“管理应用程序内消息”页面上&#x200B;**[!UICONTROL 状态]**&#x200B;列中的列表视图，确认消息是否是实时的。

## 查看“受众”页面上的“显示一次”**、“始终显示”**&#x200B;和“脱机显示”**&#x200B;设置。

请确认这些设置正确无误。在“受众”页面上，查看&#x200B;**[!UICONTROL 触发器]**&#x200B;选项卡中的选项，您可以在此选项卡上指定消息的显示频率。

## 如果使用启动事件作为触发器...

启动项只会在新会话中触发。有关会话何时开始的信息，请参阅 [ADBMobile JSON 配置](/help/ios/configuration/json-config/json-config.md)文件中的 `lifecycleTimeout`。

## 我远程更新了消息，但我的应用程序仍显示旧的消息。

完成以下任务之一：

* Dynamic Tag Management 可能要用几分钟时间来使用您的新定义更新其端点。

   等待一些时间并重试。

* 只有在全新启动之后，该配置才会更新。

   如果应用程序是在生命周期会话超时期间重新启动的，则可能未下载您的新配置。

## 我的图像不能准确地放入模板提供的空间。

应用程序内消息全屏模板，可支持显示来自远程服务器（图像 URL）或来自应用程序捆绑包（捆绑的图像）的图像。图像应采用标准图像格式，例如 JPG、GIF 或 PNG。

由于设备屏幕具有多种不同的尺寸，因此图像很可能并不完全适合模板提供的空间。模板始终主要用于显示图像的中央部分，如果图像不适合，则会裁剪（纵向）或淡化（横向）侧边。

以下是每个方向的准确定位和大小调整规则：

* **纵向**，图像在手机上将缩放到 195 px 的高度，在平板电脑上将缩放到 529 px 的高度；如果图像宽度小于设备宽度，则居中显示图像；如果图像宽度大于设备宽度，则会裁剪图像。

* **横向**，将图像高度缩放为与设备等高，宽度缩放为设备高度的 75%，并且右侧逐渐淡出。

   如果全屏模板存在问题，您可以下载并使用自定义的 HTML 模板。自定义 HTML 模板为图像提供了更大的灵活性，并允许完全调控模板。

## 我的消息未反映我在 UI 中所做的更改/更新。

SDK 在生命周期启动时会获取新消息/更新消息。仅当关闭/在后台运行应用程序超过生命周期超时值后重新打开时，才会执行此操作。

完成以下步骤：

1. 在配置文件中卷起消息 URL，以验证远程消息是否已更新（例如，`curl "https://assets.adobedtm.com/b213090c5204bf94318f4ef0539a38b487d10368/scripts/satellite-542c62859662383b1a0008f4.json"`）
1. 关闭应用程序。
1. 等待一段时间（等待的时间需超过配置文件中的 `lifecycleTimeout`）。
1. 打开应用程序，导航到消息应当显示的地方，并验证它是否已更新。
